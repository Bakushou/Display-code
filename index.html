<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
<pre><code class="language-js" id="animatedCode"></code></pre>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

<script>
    const code = `const startButton = document.getElementById("startListening");
const outputDiv = document.getElementById("output");

// ðŸŽ¤ Start Recording
async function startRecording() {
    speechSynthesis.cancel();
    outputDiv.innerText = "Listening...";
    
    try {
        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
        mediaRecorder = new MediaRecorder(stream);
        mediaRecorder.ondataavailable = event => audioChunks.push(event.data);
        mediaRecorder.onstop = processRecording;

        audioChunks = [];
        mediaRecorder.start();
        
        setTimeout(() => mediaRecorder.stop(), 5000);
    } catch (error) {
        console.error("Microphone access error:", error);
        outputDiv.innerText = "Error accessing microphone!";
    }
}`;

    let i = 0;
    function revealCode() {
        if (i < code.length) {
            document.getElementById("animatedCode").innerText += code[i];
            i++;
            Prism.highlightAll();
            setTimeout(revealCode, 10);
        }
    }
    revealCode();
</script>
